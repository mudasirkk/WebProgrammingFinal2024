import{j as $,d as x,m as q,r as d,o as p,c as f,b as t,p as T,q as c,v as m,A as B,F as _,i as U,t as k,e as b,h as W,k as D,u as E,f as F}from"./index-i1BVosPY.js";async function L(a){return $(`workouts/userworkout/${a}`)}function N(a){return $("workouts",a)}function A(a){return $(`workouts/${a}`,void 0,"DELETE")}const M={class:"content"},S={class:"modal-content"},O={class:"box"},j={class:"field"},z={class:"control"},R={class:"field"},G={class:"control"},H={class:"field"},I={class:"control"},J={class:"field"},K={class:"control"},P={class:"field"},Q={class:"control"},X={class:"field is-grouped"},Y={class:"control"},Z=x({__name:"WorkoutForm",setup(a){const u=U(),r=q(),v=u.user,e=d(!1),o=(v==null?void 0:v.id)??0,n=d(""),i=d(""),y=d(0),w=d(""),g=d(""),V=()=>{if(!u.user){alert("User is not logged in");return}const C={userid:o,title:n.value,date:i.value,duration:y.value,location:w.value,type:g.value};N(C),r.push("/workout"),e.value=!1};return(C,s)=>(p(),f(_,null,[t("div",M,[t("button",{class:"button",onClick:s[0]||(s[0]=l=>e.value=!0)},"Create Workout")]),t("div",{class:B(["modal",{"is-active":e.value}])},[t("div",{class:"modal-background",onClick:s[1]||(s[1]=l=>e.value=!1)}),t("div",S,[t("div",O,[s[14]||(s[14]=t("h2",{class:"title"},"Add New Workout",-1)),t("form",{onSubmit:T(V,["prevent"])},[t("div",j,[s[8]||(s[8]=t("label",{class:"label"},"Title",-1)),t("div",z,[c(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>n.value=l),class:"input",type:"text",required:""},null,512),[[m,n.value]])])]),t("div",R,[s[9]||(s[9]=t("label",{class:"label"},"Date (mm/dd/yyyy)",-1)),t("div",G,[c(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>i.value=l),class:"input",type:"text",required:""},null,512),[[m,i.value]])])]),t("div",H,[s[10]||(s[10]=t("label",{class:"label"},"Duration (minutes)",-1)),t("div",I,[c(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>y.value=l),class:"input",type:"number",required:""},null,512),[[m,y.value]])])]),t("div",J,[s[11]||(s[11]=t("label",{class:"label"},"Location",-1)),t("div",K,[c(t("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>w.value=l),class:"input",type:"text",required:""},null,512),[[m,w.value]])])]),t("div",P,[s[12]||(s[12]=t("label",{class:"label"},"Type",-1)),t("div",Q,[c(t("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>g.value=l),class:"input",type:"text",required:""},null,512),[[m,g.value]])])]),t("div",X,[s[13]||(s[13]=t("div",{class:"control"},[t("button",{class:"button is-primary",type:"submit"},"Add Workout")],-1)),t("div",Y,[t("button",{class:"button",type:"button",onClick:s[7]||(s[7]=l=>e.value=!1)},"Cancel")])])],32)])])],2)],64))}}),h={class:"media-content"},tt={class:"has-text-info"},st={class:"buttons"},et=x({__name:"WorkoutCard",props:{workout:{}},emits:["workout-deleted"],setup(a,{emit:u}){const r=u,v=async e=>{await A(e),r("workout-deleted",e)};return(e,o)=>(p(),f("div",h,[t("h1",tt,k(e.workout.title),1),t("h1",null,[o[1]||(o[1]=t("span",{class:"has-text-warning"},"Type:",-1)),b(" "+k(e.workout.type),1)]),t("h1",null,[o[2]||(o[2]=t("span",{class:"has-text-warning"},"Duration:",-1)),b(" "+k(e.workout.duration)+" Minutes",1)]),t("h1",null,[o[3]||(o[3]=t("span",{class:"has-text-warning"},"Location:",-1)),b(" "+k(e.workout.location),1)]),t("h1",null,[o[4]||(o[4]=t("span",{class:"has-text-warning"},"UserID:",-1)),b(" "+k(e.workout.userid),1)]),t("div",st,[t("button",{class:"button is-danger",onClick:o[0]||(o[0]=n=>{var i;return v((i=e.workout)==null?void 0:i.id)})},"Delete")])]))}}),ot={key:1,class:"columns"},lt={class:"column is-half"},it=x({__name:"Workout",setup(a){const u=U(),r=d([]);u.user&&u.user.id!==void 0&&L(u.user.id).then(o=>{r.value=o.data});const v=o=>{r.value=r.value.filter(n=>n.id!==o)},e=d(!1);return(o,n)=>(p(),f(_,null,[t("button",{class:"button is-primary has-text-black",style:{margin:"10px"},onClick:n[0]||(n[0]=i=>e.value=!e.value)},n[1]||(n[1]=[t("i",{class:"fas fa-plus icon-margin"},null,-1)])),e.value?(p(),W(Z,{key:0})):D("",!0),E(u).user?(p(),f("div",ot,[t("div",lt,[(p(!0),f(_,null,F(r.value,i=>(p(),W(et,{key:i.id,workout:i,onWorkoutDeleted:v},null,8,["workout"]))),128))])])):D("",!0)],64))}});export{it as default};
