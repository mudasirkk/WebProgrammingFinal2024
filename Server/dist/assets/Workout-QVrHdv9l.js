import{j as x,d as C,m as q,r,o as d,c,b as t,p as T,q as m,v as k,A as B,F as $,i as U,t as f,e as b,k as _,h as D,u as E,f as F}from"./index-sOxzH593.js";async function L(u){return x(`workouts/userworkout/${u}`)}function N(u){return x("workouts",u)}function A(u){return x(`workouts/${u}`,void 0,"DELETE")}const M={class:"content"},S={class:"modal-content"},O={class:"box"},j={class:"field"},z={class:"control"},R={class:"field"},G={class:"control"},H={class:"field"},I={class:"control"},J={class:"field"},K={class:"control"},P={class:"field"},Q={class:"control"},X={class:"field is-grouped"},Y={class:"control"},Z=C({__name:"WorkoutForm",setup(u){const i=U(),a=q(),v=i.user,e=r(!1),o=(v==null?void 0:v.id)??0,n=r(""),p=r(""),y=r(0),w=r(""),g=r(""),V=()=>{if(!i.user){alert("User is not logged in");return}const W={userid:o,title:n.value,date:p.value,duration:y.value,location:w.value,type:g.value};N(W),a.push("/workout"),e.value=!1};return(W,s)=>(d(),c($,null,[t("div",M,[t("button",{class:"button",onClick:s[0]||(s[0]=l=>e.value=!0)},"Create Workout")]),t("div",{class:B(["modal",{"is-active":e.value}])},[t("div",{class:"modal-background",onClick:s[1]||(s[1]=l=>e.value=!1)}),t("div",S,[t("div",O,[s[14]||(s[14]=t("h2",{class:"title"},"Add New Workout",-1)),t("form",{onSubmit:T(V,["prevent"])},[t("div",j,[s[8]||(s[8]=t("label",{class:"label"},"Title",-1)),t("div",z,[m(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>n.value=l),class:"input",type:"text",required:""},null,512),[[k,n.value]])])]),t("div",R,[s[9]||(s[9]=t("label",{class:"label"},"Date (mm/dd/yyyy)",-1)),t("div",G,[m(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>p.value=l),class:"input",type:"text",required:""},null,512),[[k,p.value]])])]),t("div",H,[s[10]||(s[10]=t("label",{class:"label"},"Duration (minutes)",-1)),t("div",I,[m(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>y.value=l),class:"input",type:"number",required:""},null,512),[[k,y.value]])])]),t("div",J,[s[11]||(s[11]=t("label",{class:"label"},"Location",-1)),t("div",K,[m(t("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>w.value=l),class:"input",type:"text",required:""},null,512),[[k,w.value]])])]),t("div",P,[s[12]||(s[12]=t("label",{class:"label"},"Type",-1)),t("div",Q,[m(t("input",{"onUpdate:modelValue":s[6]||(s[6]=l=>g.value=l),class:"input",type:"text",required:""},null,512),[[k,g.value]])])]),t("div",X,[s[13]||(s[13]=t("div",{class:"control"},[t("button",{class:"button is-primary",type:"submit"},"Add Workout")],-1)),t("div",Y,[t("button",{class:"button",type:"button",onClick:s[7]||(s[7]=l=>e.value=!1)},"Cancel")])])],32)])])],2)],64))}}),h={class:"media-content"},tt={class:"has-text-info"},st={key:0,class:"buttons"},et=C({__name:"WorkoutCard",props:{workout:{}},emits:["workout-deleted"],setup(u,{emit:i}){const a=i,v=async e=>{await A(e),a("workout-deleted",e)};return(e,o)=>(d(),c("div",h,[t("h1",tt,f(e.workout.title),1),t("h1",null,[o[1]||(o[1]=t("span",{class:"has-text-warning"},"Type:",-1)),b(" "+f(e.workout.type),1)]),t("h1",null,[o[2]||(o[2]=t("span",{class:"has-text-warning"},"Duration:",-1)),b(" "+f(e.workout.duration)+" Minutes",1)]),t("h1",null,[o[3]||(o[3]=t("span",{class:"has-text-warning"},"Location:",-1)),b(" "+f(e.workout.location),1)]),t("h1",null,[o[4]||(o[4]=t("span",{class:"has-text-warning"},"UserID:",-1)),b(" "+f(e.workout.userid),1)]),e.workout.id!=null?(d(),c("div",st,[t("button",{class:"button is-danger",onClick:o[0]||(o[0]=n=>v(e.workout.id))},"Delete")])):_("",!0)]))}}),ot={key:1,class:"columns"},lt={class:"column is-half"},it=C({__name:"Workout",setup(u){const i=U(),a=r([]);i.user&&i.user.id!==void 0&&L(i.user.id).then(o=>{a.value=o.data});const v=o=>{a.value=a.value.filter(n=>n.id!==o)},e=r(!1);return(o,n)=>(d(),c($,null,[t("button",{class:"button is-primary has-text-black",style:{margin:"10px"},onClick:n[0]||(n[0]=p=>e.value=!e.value)},n[1]||(n[1]=[t("i",{class:"fas fa-plus icon-margin"},null,-1)])),e.value?(d(),D(Z,{key:0})):_("",!0),E(i).user?(d(),c("div",ot,[t("div",lt,[(d(!0),c($,null,F(a.value,p=>(d(),D(et,{key:p.id,workout:p,onWorkoutDeleted:v},null,8,["workout"]))),128))])])):_("",!0)],64))}});export{it as default};
